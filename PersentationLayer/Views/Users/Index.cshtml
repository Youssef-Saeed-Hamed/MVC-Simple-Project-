@model IEnumerable<UsersVM>

@{
    ViewData["Title"] = "Users";
}




<a asp-action="Create" class="btn btn-success mb-3">Add New Employee</a>
@if (TempData["Message"] is not null)
{
	<div class="alert alert-success mb-3">
		<h1>@TempData["Message"]</h1>
	</div>
}
@if (Model.Count() > 0)
{

	<div>
		<form class="row offset-1" asp-action="Index">
			<div class="col-9 ">
				<input class="form-control" type="type" name="email" placeholder="Users Email'" />
			</div>
			<div class="col-3">
				<input type="submit" class="btn btn-primary" name="name" value="Search" />
			</div>
		</form>
	</div>
	<div>
		<table class="table table-striped">
			<thead>
				<tr>
					<th>@Html.DisplayNameFor(e => e.Id)</th>
					<th>@Html.DisplayNameFor(e => e.FirstName)</th>
					<th>@Html.DisplayNameFor(e => e.LastName)</th>
					<th>@Html.DisplayNameFor(e => e.Email)</th>
					<th>@Html.DisplayNameFor(e => e.Roles)</th>
					<th>Details</th>
					<th>Update</th>
					<th>Delete</th>
				</tr>
			</thead>
			<tbody>
				@foreach (var employee in Model)
				{
					<tr>
						<td>@employee.Id</td>
						<td>@employee.FirstName</td>
						<td>@employee.LastName</td>
						<td>@employee.Email</td>
						<td>@string.Join("," , employee.Roles)</td>
						
						<partial name="_TableButtons" model="@employee.Id.ToString()"></partial>

					</tr>
				}
			</tbody>
		</table>
	</div>
}
else
{
	<div class="alert alert-warning">
		<h1>No Employees</h1>
	</div>
}
