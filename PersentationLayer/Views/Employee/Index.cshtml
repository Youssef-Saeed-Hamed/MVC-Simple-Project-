@model IEnumerable<EmployeeVM>

@{
	ViewData["Title"] = "Employees";
}


<a asp-action="Create" class="btn btn-success mb-3">Add New Employee</a>
@if (TempData["Message"] is not null)
{
	<div class="alert alert-success mb-3">
		<h1>@TempData["Message"]</h1>
	</div>
}
@if(Model.Count() > 0)
{

	<div>
		<form class="row offset-1" asp-action="Index" >
			<div class="col-9 ">
				<input class="form-control"  type="type" name="SearchValue" placeholder="Employee's Name'" />
			</div>
			<div class="col-3">
				<input type="submit" class="btn btn-primary" name="name" value="Search" />
			</div>
		</form>
	</div>
	<div>
		<table class="table table-striped">
			<thead>
				<tr>
					<th>@Html.DisplayNameFor(e=> e.Name)</th>
					<th>@Html.DisplayNameFor(e=> e.Image)</th>
					<th>@Html.DisplayNameFor(e=> e.Department)</th>
					<th>@Html.DisplayNameFor(e=> e.Email)</th>
					<th>@Html.DisplayNameFor(e=> e.Phone)</th>
					<th>@Html.DisplayNameFor(e=> e.Address)</th>
					<th>@Html.DisplayNameFor(e=> e.IsActive)</th>
					<th>Details</th>
					<th>Update</th>
					<th>Delete</th>
				</tr>
			</thead>
			<tbody>
				@foreach(var employee in Model)
				{
					<tr>
						<td>@employee.Name</td>
						<td><img src="~/Files/Images/@employee.ImageName" width="75" height="75" class="rounded-circle" alt="Alternate Text" /></td>
						<td>@employee.Department?.Name</td>
						<td>@employee.Email</td>
						<td>@employee.Phone</td>
						<td>@employee.Address</td>
						@if (@employee.IsActive)
						{
							<td><i class="fa-regular fa-circle-check text-success fw-bold"></i></td>
						}
						else
						{
							<td><i class="fa-regular fa-circle-xmark text-danger fw-bold"></i></td>
						}


						<partial name="_TableButtons" model="@employee.Id.ToString()"></partial>

					</tr>
				}
			</tbody>
		</table>
	</div>
}
else
{
	<div class="alert alert-warning">
		<h1>No Employees</h1>
	</div>
}
